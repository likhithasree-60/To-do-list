<html>
    <head>   
        <title>
            <%= tittle %>
        </title>
        <style>
          body{
            background-image: url('image.jpg');
            background-repeat: no-repeat;
            background-attachment: fixed;
            background-size: cover;
          }
        </style>
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
        crossorigin="anonymous">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
         <!-- font awesome link -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css">
    <link rel="stylesheet" href="./assets/style.css"
  </head>
   <script src=" https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script> 
   <script src="https://kit.fontawesome.com/e8c645b060.js" crossorigin="anonymous"></script>

  <body>
    <section class="container">
      <h1 align="center" style="color: crimson;">TODO APP</h1>
      <!-- form to create task -->
      <form action="/create-task" method="POST" >
        <table class="table mx-auto" style="border: 1px solid;border-collapse: collapse;width: 80%;">
          <tbody style="border-top: 1px solid black;">
            <tr style="border-color: black;">
              <td><p style="color: crimson;font-weight: 600;">DESCRIPTION</p> <label for="DESCRIPTION"></label><input type="text" name="description"placeholder="What do you need to do?" required></input></th>
            </tr>
            <tr>
              <td ><p style="color: crimson;font-weight: 600;">CATEGORY</p>   
                <select name="category"  required>
                  <option>Choose a Category</option>
                  <option>PERSONAL</option>
                  <option>WORK</option>
                  <option>SCHOOL</option>
                  <option>CLEANING</option>
                  <option>OTHER</option>
                </select>
                <script>
                  function modifyDateField() {
                    const dateField = document.getElementById("myDateField");
                      if (dateField.value == "") {
                        dateField.value = "No deadline";
                      }
                  }
                </script>
                <td ><p style="color: crimson;font-weight: 600;">DUE DATE</p>  <input type="date" name="date" id="myDateField" value="No Deadline" onblur="modifyDateField()" pattern="^\d{4}-\d{2}-\d{2}$|.*"></th>       
            <tr>
            </tr>
            </tr>
          </tbody>

        </table>
            <p style="text-align: center;">
              <script>
                function printPopUp() {
                    alert("Are you willing to add this particular task");
                }   
              </script>
              <button align="center" onclick="printPopUp()"class="btn btn-success"><i class="fa-solid fa-plus"></i><input type="submit" class="btn btn-success" id="add" value="ADD TASK"></button>
            </p>         
      </form>
    
      <div>     
          <hr style="border-top: 1px solidblack;border-radius: 10px;">    
              <form action="/delete-task" method="get" >
                <table class="table mx-auto" style="border: 1px solid;border-collapse: collapse;width: 80%;">
                  <h1 align="center" style="color: crimson;" >TASKS</h1>
                        <thead style="border-color: black;border-top: 1px solid black;">
                          <tr style="color: crimson;">
                            <th> </th>
                            <th>Select</th>
                            <th>Task</th>
                            <th>Category</th>
                          </tr>
                        </thead>
                        <% for(let i of task) { %>
                            
                          <tr>      
                            <td></td>
                              <td> <input type="checkbox" style="width: 20px;align-items: center; height: 20px;border-radius: 30%;" name="<%= i._id %>" ></td>
                              <td > <p style="font-size: x-large;" id="task-description"><%= i.description %><sub><p id="due-date" onclick="myFunction()">
                                <% if((i.date)==null)  { %>
                                <div><i class="fa-solid fa-calendar-days"></i>:No deadline</div>
                                <% }else{ %>
                                <div><i class="fa-solid fa-calendar-days"></i>:<%= i.date.toDateString() %></div>
                                <% } %> </p> 
                                    </p></sub>
                              </td>
                              <td>
                                <% if((i.category)=="Choose a Category")  { %>
                                  <div></div>
                                  <% }else{ %>
                                    <% if((i.category)=="PERSONAL")  { %>
                                      <div class="btn" style="padding: 6px; margin-top: 40px;color: white;background-color:blue" > <%= i.category %></div>
                                    <% } %> 
                                    <% if((i.category)=="WORK")  { %>
                                      <div class="btn" style="padding: 6px; margin-top: 40px;color: white; background-color:darkorchid;" > <%= i.category %></div>
                                    <% } %> 
                                    <% if((i.category)=="SCHOOL")  { %>
                                      <div class="btn" style="padding: 6px; margin-top: 40px;color: white;background-color:orangered" > <%= i.category %></div>
                                    <% } %> 
                                    <% if((i.category)=="CLEANING")  { %>
                                      <div class="btn" style="padding: 6px; margin-top: 40px;color: white;background-color:green" > <%= i.category %></div>
                                    <% } %> 
                                    <% if((i.category)=="OTHER")  { %>
                                      <div class="btn" style="padding: 6px; margin-top: 40px;color: white;background-color:grey" > <%= i.category %></div>
                                    <% } %> 
                                  <% } %>
                              </td>
                          </tr>
                                <% } %>
                          <tr>
</table>
        <p style="text-align: center;">
          <script>
            function printPop() {
              alert("Task is Deleted")
            }  
          </script>
          <button align="center" onclick="printPop()"class="btn btn-danger"><i class="fa-solid fa-trash"></i><input type="submit" class="btn btn-danger" value="DELETE TASK"></button>
        </p>
        </form>
      </div>
    </section>
 Â </body>
</html>